<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="../../assets/style-guide.css">
	<title>Pagination</title>
</head>
<body>
  <div class="container container--no-header">
    <h1 class="t-title-1 guide-title">Pagination 컴포넌트</h1>
    
    <section class="guide-section">
      <h2 class="t-title-2 guide-title">기본 페이지네이션</h2>
      
      <div class="guide-article">
        <h3 class="t-title-3 guide-subtitle">페이지 이동을 위한 기본 페이지네이션</h3>
        <div class="guide-component-group">
          <nav class="pagination">
            <button class="pagination__arrow pagination__arrow--left">
              <i class="icon-bg icon-arrow-left"><span class="visually-hidden">이전 페이지</span></i>
            </button>
            <div class="pagination__numbers">
              <button class="pagination__number pagination__number--active" aria-current="page">1</button>
              <button class="pagination__number">2</button>
              <button class="pagination__number">3</button>
            </div>
            <button class="pagination__arrow pagination__arrow--right">
              <i class="icon-bg icon-arrow-right"><span class="visually-hidden">다음 페이지</span></i>
            </button>
          </nav>
        </div>
        <div class="guide-code-block">
          <pre><code>&lt;nav class="pagination"&gt;
  &lt;button class="pagination__arrow pagination__arrow--left"&gt;
    &lt;i class="icon-bg icon-arrow-left"&gt;&lt;span class="visually-hidden"&gt;이전 페이지&lt;/span&gt;&lt;/i&gt;
  &lt;/button&gt;
  &lt;div class="pagination__numbers"&gt;
    &lt;button class="pagination__number pagination__number--active" aria-current="page"&gt;1&lt;/button&gt;
    &lt;button class="pagination__number"&gt;2&lt;/button&gt;
    &lt;button class="pagination__number"&gt;3&lt;/button&gt;
  &lt;/div&gt;
  &lt;button class="pagination__arrow pagination__arrow--right"&gt;
    &lt;i class="icon-bg icon-arrow-right"&gt;&lt;span class="visually-hidden"&gt;다음 페이지&lt;/span&gt;&lt;/i&gt;
  &lt;/button&gt;
&lt;/nav&gt;</code></pre>
        </div>
      </div>
    </section>

    <section class="guide-section">
      <h2 class="t-title-2 guide-title">상호작용 예제</h2>
      
      <div class="guide-article">
        <h3 class="t-title-3 guide-subtitle">클릭 시 페이지 번호가 변경되는 페이지네이션</h3>
        <div class="guide-component-group">
          <nav class="pagination interactive-pagination">
            <button class="pagination__arrow pagination__arrow--left prev-page">
              <i class="icon-bg icon-arrow-left"><span class="visually-hidden">이전 페이지</span></i>
            </button>
            <div class="pagination__numbers">
              <button class="pagination__number pagination__number--active" aria-current="page">1</button>
              <button class="pagination__number">2</button>
              <button class="pagination__number">3</button>
              <button class="pagination__number">4</button>
              <button class="pagination__number">5</button>
            </div>
            <button class="pagination__arrow pagination__arrow--right next-page">
              <i class="icon-bg icon-arrow-right"><span class="visually-hidden">다음 페이지</span></i>
            </button>
          </nav>
        </div>
        <div class="guide-code-block">
          <pre><code>&lt;nav class="pagination interactive-pagination"&gt;
  &lt;button class="pagination__arrow pagination__arrow--left prev-page"&gt;
    &lt;i class="icon-bg icon-arrow-left"&gt;&lt;span class="visually-hidden"&gt;이전 페이지&lt;/span&gt;&lt;/i&gt;
  &lt;/button&gt;
  &lt;div class="pagination__numbers"&gt;
    &lt;button class="pagination__number pagination__number--active" aria-current="page"&gt;1&lt;/button&gt;
    &lt;button class="pagination__number"&gt;2&lt;/button&gt;
    &lt;button class="pagination__number"&gt;3&lt;/button&gt;
    &lt;button class="pagination__number"&gt;4&lt;/button&gt;
    &lt;button class="pagination__number"&gt;5&lt;/button&gt;
  &lt;/div&gt;
  &lt;button class="pagination__arrow pagination__arrow--right next-page"&gt;
    &lt;i class="icon-bg icon-arrow-right"&gt;&lt;span class="visually-hidden"&gt;다음 페이지&lt;/span&gt;&lt;/i&gt;
  &lt;/button&gt;
&lt;/nav&gt;</code></pre>
        </div>
      </div>

      <div class="guide-article">
        <h3 class="t-title-3 guide-subtitle">페이지네이션 동작 방법 가이드</h3>
        <div class="guide-text">
          <p>페이지네이션을 클릭 가능하게 만들기 위해서는 다음 단계를 따르세요:</p>
          <ol>
            <li><strong>클래스 적용</strong>: 페이지네이션 요소에 <code>interactive-pagination</code> 클래스를 추가합니다.</li>
            <li><strong>방향 버튼 클래스</strong>: 이전/다음 페이지 버튼에 각각 <code>prev-page</code>와 <code>next-page</code> 클래스를 추가합니다.</li>
            <li><strong>스크립트 추가</strong>: 페이지에 아래와 같은 JavaScript 스크립트를 추가합니다.</li>
          </ol>
          <div class="guide-code-block">
            <pre><code>// 페이지네이션 상호작용 스크립트
document.addEventListener('DOMContentLoaded', function() {
  // 모든 interactive-pagination 클래스를 가진 요소들 선택
  const paginationList = document.querySelectorAll('.interactive-pagination');
  
  // 각 페이지네이션에 이벤트 리스너 추가
  paginationList.forEach(function(pagination) {
    const paginationNumbers = pagination.querySelector('.pagination__numbers');
    const prevPageBtn = pagination.querySelector('.prev-page');
    const nextPageBtn = pagination.querySelector('.next-page');
    
    if (!paginationNumbers || !prevPageBtn || !nextPageBtn) return;
    
    // 페이지 번호 버튼들에 이벤트 리스너 추가
    paginationNumbers.addEventListener('click', function(e) {
      if (e.target.classList.contains('pagination__number')) {
        // 현재 활성화된 버튼 비활성화
        const currentActive = this.querySelector('.pagination__number--active');
        if (currentActive) {
          currentActive.classList.remove('pagination__number--active');
        }
        
        // 클릭된 버튼 활성화
        e.target.classList.add('pagination__number--active');
      }
    });
    
    // 이전 페이지 버튼 클릭 이벤트
    prevPageBtn.addEventListener('click', function() {
      const currentActive = paginationNumbers.querySelector('.pagination__number--active');
      const prevSibling = currentActive?.previousElementSibling;
      
      if (prevSibling && prevSibling.classList.contains('pagination__number')) {
        currentActive.classList.remove('pagination__number--active');
        prevSibling.classList.add('pagination__number--active');
      }
    });
    
    // 다음 페이지 버튼 클릭 이벤트
    nextPageBtn.addEventListener('click', function() {
      const currentActive = paginationNumbers.querySelector('.pagination__number--active');
      const nextSibling = currentActive?.nextElementSibling;
      
      if (nextSibling && nextSibling.classList.contains('pagination__number')) {
        currentActive.classList.remove('pagination__number--active');
        nextSibling.classList.add('pagination__number--active');
      }
    });
  });
});</code></pre>
          </div>
          <div class="guide-notice">
            <p>
              <strong>참고사항:</strong>
            </p>
            <ul class="guide-list">
              <li>
                <span>이 구현은 한 페이지 내에 여러 개의 페이지네이션을 지원합니다.</span>
              </li>
              <li>
                <span>페이지네이션 클릭 시 <code>pagination__number--active</code> 클래스가 해당 번호 버튼에 추가되며, 이전 활성화된 버튼에서는 이 클래스가 제거됩니다.</span>
              </li>
              <li>
                <span>실제 페이지 이동은 이 스크립트에 포함되어 있지 않으므로, 페이지 이동 기능이 필요하면 클릭 이벤트에 추가 로직을 구현해야 합니다.</span>
              </li>
              <li>
                <span>클릭된 페이지 번호를 기반으로 데이터를 가져오려면 클릭 이벤트에 AJAX 호출이나 상태 관리 코드를 추가하세요.</span>
              </li>
              <li>
                <span>접근성을 위해 <code>aria-current="page"</code> 속성을 현재 선택된 페이지 번호에 추가하는 것을 권장합니다.</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </section>
  </div>

  <script>
    // 인터랙티브 페이지네이션 예제 - 클래스 기반 구현
    document.addEventListener('DOMContentLoaded', function() {
      // 모든 interactive-pagination 클래스를 가진 요소들 선택
      const paginationList = document.querySelectorAll('.interactive-pagination');
      
      // 각 페이지네이션에 이벤트 리스너 추가
      paginationList.forEach(function(pagination) {
        const paginationNumbers = pagination.querySelector('.pagination__numbers');
        const prevPageBtn = pagination.querySelector('.prev-page');
        const nextPageBtn = pagination.querySelector('.next-page');
        
        if (!paginationNumbers || !prevPageBtn || !nextPageBtn) return;
        
        // 페이지 번호 버튼들에 이벤트 리스너 추가
        paginationNumbers.addEventListener('click', function(e) {
          if (e.target.classList.contains('pagination__number')) {
            // 현재 활성화된 버튼 비활성화
            const currentActive = this.querySelector('.pagination__number--active');
            if (currentActive) {
              currentActive.classList.remove('pagination__number--active');
              // 접근성 속성 제거
              currentActive.removeAttribute('aria-current');
            }
            
            // 클릭된 버튼 활성화
            e.target.classList.add('pagination__number--active');
            // 접근성 속성 추가
            e.target.setAttribute('aria-current', 'page');
          }
        });
        
        // 이전 페이지 버튼 클릭 이벤트
        prevPageBtn.addEventListener('click', function() {
          const currentActive = paginationNumbers.querySelector('.pagination__number--active');
          const prevSibling = currentActive?.previousElementSibling;
          
          if (prevSibling && prevSibling.classList.contains('pagination__number')) {
            currentActive.classList.remove('pagination__number--active');
            currentActive.removeAttribute('aria-current');
            
            prevSibling.classList.add('pagination__number--active');
            prevSibling.setAttribute('aria-current', 'page');
          }
        });
        
        // 다음 페이지 버튼 클릭 이벤트
        nextPageBtn.addEventListener('click', function() {
          const currentActive = paginationNumbers.querySelector('.pagination__number--active');
          const nextSibling = currentActive?.nextElementSibling;
          
          if (nextSibling && nextSibling.classList.contains('pagination__number')) {
            currentActive.classList.remove('pagination__number--active');
            currentActive.removeAttribute('aria-current');
            
            nextSibling.classList.add('pagination__number--active');
            nextSibling.setAttribute('aria-current', 'page');
          }
        });
      });
    });
  </script>
</body>
</html>